!function(l){var d,r,p,e,u,c="mmenu";l[c]||(d={},r={},e=!(p={}),u={$wndw:null,$html:null,$body:null},l[c]=function(e,n,t){this.$menu=e,this.opts=n,this.conf=t,this.vars={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors(),this._initEvents();var s,e=this.$menu.children(this.conf.panelNodetype);for(s in l[c].addons)l[c].addons[s]._add.call(this),l[c].addons[s]._add=function(){},l[c].addons[s]._setup.call(this);return this._init(e),"function"==typeof this.___debug&&this.___debug(),this},l[c].version="4.7.5",l[c].addons={},l[c].uniqueId=0,l[c].defaults={classes:"",slidingSubmenus:!0,onClick:{setSelected:!0}},l[c].configuration={panelNodetype:"ul, ol, div",transitionDuration:400,openingInterval:25,classNames:{panel:"Panel",selected:"Selected",label:"Label",spacer:"Spacer"}},l[c].prototype={_init:function(e){for(var n in e=e.not("."+d.nopanel),e=this._initPanels(e),l[c].addons)l[c].addons[n]._init.call(this,e);this._update()},_initMenu:function(){this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){l(this).attr("id",d.mm(l(this).attr("id")))})),this.$menu.contents().each(function(){3==l(this)[0].nodeType&&l(this).remove()}),this.$menu.parent().addClass(d.wrapper);var e=[d.menu];e.push(d.mm(this.opts.slidingSubmenus?"horizontal":"vertical")),this.opts.classes&&e.push(this.opts.classes),this.$menu.addClass(e.join(" "))},_initPanels:function(e){var n,a=this,t=(this.__findAddBack(e,"ul, ol").not("."+d.nolist).addClass(d.list),this.__findAddBack(e,"."+d.list).find("> li")),s=(this.__refactorClass(t,this.conf.classNames.selected,"selected"),this.__refactorClass(t,this.conf.classNames.label,"label"),this.__refactorClass(t,this.conf.classNames.spacer,"spacer"),t.off(p.setSelected).on(p.setSelected,function(e,n){e.stopPropagation(),t.removeClass(d.selected),(n="boolean"!=typeof n?!0:n)&&l(this).addClass(d.selected)}),this.__refactorClass(this.__findAddBack(e,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel"),e.add(this.__findAddBack(e,"."+d.list).children().children().filter(this.conf.panelNodetype).not("."+d.nopanel)).addClass(d.panel),this.__findAddBack(e,"."+d.panel)),i=l("."+d.panel,this.$menu),e=(s.each(function(e){var n=l(this),t=n.attr("id")||a.__getUniqueId();n.attr("id",t)}),s.each(function(e){var n=l(this),t=n.is("ul, ol")?n:n.find("ul ,ol").first(),s=n.parent(),i=s.children("a, span"),o=s.closest("."+d.panel);s.parent().is("."+d.list)&&!n.data(r.parent)&&(n.data(r.parent,s),s=l('<a class="'+d.subopen+'" href="#'+n.attr("id")+'" />').insertBefore(i),i.is("a")||s.addClass(d.fullsubopen),a.opts.slidingSubmenus&&t.prepend('<li class="'+d.subtitle+'"><a class="'+d.subclose+'" href="#'+o.attr("id")+'">'+i.text()+"</a></li>"))}),this.opts.slidingSubmenus?(n=this.__findAddBack(e,"."+d.list).find("> li."+d.selected)).parents("li").removeClass(d.selected).end().add(n.parents("li")).each(function(){var e=l(this),n=e.find("> ."+d.panel);n.length&&(e.parents("."+d.panel).addClass(d.subopened),n.addClass(d.opened))}).closest("."+d.panel).addClass(d.opened).parents("."+d.panel).addClass(d.subopened):(n=l("li."+d.selected,i)).parents("li").removeClass(d.selected).end().add(n.parents("li")).addClass(d.opened),i.filter("."+d.opened));return(e=e.length?e:s.first()).addClass(d.opened).last().addClass(d.current),this.opts.slidingSubmenus&&s.not(e.last()).addClass(d.hidden).end().appendTo(this.$menu),s},_initAnchors:function(){var a=this;u.$body.on(p.click,"a",function(e){var n,t=l(this),s=!1,i=a.$menu.find(t).length;for(n in l[c].addons)if(l[c].addons[n]._clickAnchor&&(s=l[c].addons[n]._clickAnchor.call(a,t,i)))break;if(!s&&i){var o=t.attr("href")||"";if("#"==o.slice(0,1))try{l(o,a.$menu).is("."+d.panel)&&(s=!0,l(o).trigger(a.opts.slidingSubmenus?p.open:p.toggle))}catch(e){}}s&&e.preventDefault(),s||!i||!t.is("."+d.list+" > li > a")||t.is('[rel="external"]')||t.is('[target="_blank"]')||(a.__valueOrFn(a.opts.onClick.setSelected,t)&&t.parent().trigger(p.setSelected),(o=a.__valueOrFn(a.opts.onClick.preventDefault,t,"#"==o.slice(0,1)))&&e.preventDefault(),a.__valueOrFn(a.opts.onClick.blockUI,t,!o)&&u.$html.addClass(d.blocking),a.__valueOrFn(a.opts.onClick.close,t,o)&&a.$menu.trigger(p.close))})},_initEvents:function(){var n=this;this.$menu.on(p.toggle+" "+p.open+" "+p.close,"."+d.panel,function(e){e.stopPropagation()}),this.opts.slidingSubmenus?this.$menu.on(p.open,"."+d.panel,function(e){return n._openSubmenuHorizontal(l(this))}):this.$menu.on(p.toggle,"."+d.panel,function(e){var n=l(this);n.trigger(n.parent().hasClass(d.opened)?p.close:p.open)}).on(p.open,"."+d.panel,function(e){l(this).parent().addClass(d.opened)}).on(p.close,"."+d.panel,function(e){l(this).parent().removeClass(d.opened)})},_openSubmenuHorizontal:function(e){if(e.hasClass(d.current))return!1;var n=l("."+d.panel,this.$menu),t=n.filter("."+d.current);return n.removeClass(d.highest).removeClass(d.current).not(e).not(t).addClass(d.hidden),e.hasClass(d.opened)?t.addClass(d.highest).removeClass(d.opened).removeClass(d.subopened):(e.addClass(d.highest),t.addClass(d.subopened)),e.removeClass(d.hidden).addClass(d.current),setTimeout(function(){e.removeClass(d.subopened).addClass(d.opened)},this.conf.openingInterval),"open"},_update:function(e){if(this.updates||(this.updates=[]),"function"==typeof e)this.updates.push(e);else for(var n=0,t=this.updates.length;n<t;n++)this.updates[n].call(this,e)},__valueOrFn:function(e,n,t){return"function"==typeof e?e.call(n[0]):void 0===e&&void 0!==t?t:e},__refactorClass:function(e,n,t){return e.filter("."+n).removeClass(n).addClass(d[t])},__findAddBack:function(e,n){return e.find(n).add(e.filter(n))},__transitionend:function(e,n,t){function s(){i||n.call(e[0]),i=!0}var i=!1;e.one(p.transitionend,s),e.one(p.webkitTransitionEnd,s),setTimeout(s,1.1*t)},__getUniqueId:function(){return d.mm(l[c].uniqueId++)}},l.fn[c]=function(n,t){return e||(e=!0,u.$wndw=l(window),u.$html=l("html"),u.$body=l("body"),l.each([d,r,p],function(e,t){t.add=function(e){for(var n in e=e.split(" "))t[e[n]]=t.mm(e[n])}}),d.mm=function(e){return"mm-"+e},d.add("wrapper menu inline panel nopanel list nolist subtitle selected label spacer current highest hidden opened subopened subopen fullsubopen subclose"),d.umm=function(e){return e="mm-"==e.slice(0,3)?e.slice(3):e},r.mm=function(e){return"mm-"+e},r.add("parent"),p.mm=function(e){return e+".mm"},p.add("toggle open close setSelected transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend scroll resize click keydown keyup"),l[c]._c=d,l[c]._d=r,l[c]._e=p,l[c].glbl=u),n=l.extend(!0,{},l[c].defaults,n),t=l.extend(!0,{},l[c].configuration,t),this.each(function(){var e=l(this);e.data(c)||e.data(c,new l[c](e,n,t))})},l[c].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints})}(jQuery),function(i){var o,t,a,l,e="mmenu",d="offCanvas";i[e].addons[d]={_init:function(e){},_setup:function(){var n,e,t,s;this.opts[d]&&(e=(n=this).opts[d],"string"!=typeof(t=this.conf[d]).pageSelector&&(t.pageSelector="> "+t.pageNodetype),l.$allMenus=(l.$allMenus||i()).add(this.$menu),this.vars.opened=!1,s=[o.offcanvas],"left"!=e.position&&s.push(o.mm(e.position)),"back"!=e.zposition&&s.push(o.mm(e.zposition)),this.$menu.addClass(s.join(" ")).parent().removeClass(o.wrapper),this.setPage(l.$page),this[d+"_initBlocker"](),this[d+"_initWindow"](),this.$menu.on(a.open+" "+a.opening+" "+a.opened+" "+a.close+" "+a.closing+" "+a.closed+" "+a.setPage,function(e){e.stopPropagation()}).on(a.open+" "+a.close+" "+a.setPage,function(e){n[e.type]()}),this.$menu[t.menuInjectMethod+"To"](t.menuWrapperSelector))},_add:function(){o=i[e]._c,t=i[e]._d,a=i[e]._e,o.add("offcanvas slideout modal background opening blocker page"),t.add("style"),a.add("opening opened closing closed setPage"),l=i[e].glbl},_clickAnchor:function(e,n){if(!this.opts[d])return!1;var t=this.$menu.attr("id");if(t&&t.length&&(this.conf.clone&&(t=o.umm(t)),e.is('[href="#'+t+'"]')))return this.open(),!0;if(l.$page)return!!((t=l.$page.attr("id"))&&t.length&&e.is('[href="#'+t+'"]'))&&(this.close(),!0)}},i[e].defaults[d]={position:"left",zposition:"back",modal:!1,moveBackground:!0},i[e].configuration[d]={pageNodetype:"div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend"},i[e].prototype.open=function(){if(this.vars.opened)return!1;var e=this;return this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),"open"},i[e].prototype._openSetup=function(){var e=this,n=(l.$allMenus.not(this.$menu).trigger(a.close),l.$page.data(t.style,l.$page.attr("style")||""),l.$wndw.trigger(a.resize,[!0]),[o.opened]);this.opts[d].modal&&n.push(o.modal),this.opts[d].moveBackground&&n.push(o.background),"left"!=this.opts[d].position&&n.push(o.mm(this.opts[d].position)),"back"!=this.opts[d].zposition&&n.push(o.mm(this.opts[d].zposition)),this.opts.classes&&n.push(this.opts.classes),l.$html.addClass(n.join(" ")),setTimeout(function(){e.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(o.current+" "+o.opened)},i[e].prototype._openFinish=function(){var e=this;this.__transitionend(l.$page,function(){e.$menu.trigger(a.opened)},this.conf.transitionDuration),l.$html.addClass(o.opening),this.$menu.trigger(a.opening)},i[e].prototype.close=function(){if(!this.vars.opened)return!1;var e=this;return this.__transitionend(l.$page,function(){e.$menu.removeClass(o.current).removeClass(o.opened),l.$html.removeClass(o.opened).removeClass(o.modal).removeClass(o.background).removeClass(o.mm(e.opts[d].position)).removeClass(o.mm(e.opts[d].zposition)),e.opts.classes&&l.$html.removeClass(e.opts.classes),l.$page.attr("style",l.$page.data(t.style)),e.vars.opened=!1,e.$menu.trigger(a.closed)},this.conf.transitionDuration),l.$html.removeClass(o.opening),this.$menu.trigger(a.closing),"close"},i[e].prototype.setPage=function(e){e||1<(e=i(this.conf[d].pageSelector,l.$body)).length&&(e=e.wrapAll("<"+this.conf[d].pageNodetype+" />").parent()),e.addClass(o.page+" "+o.slideout),l.$page=e},i[e].prototype[d+"_initWindow"]=function(){l.$wndw.on(a.keydown,function(e){if(l.$html.hasClass(o.opened)&&9==e.keyCode)return e.preventDefault(),!1});var s=0;l.$wndw.on(a.resize,function(e,n){var t;(n||l.$html.hasClass(o.opened))&&(t=l.$wndw.height(),!n&&t==s||(s=t,l.$page.css("minHeight",t)))}),i[e].prototype[d+"_initWindow"]=function(){}},i[e].prototype[d+"_initBlocker"]=function(){var n=i('<div id="'+o.blocker+'" class="'+o.slideout+'" />').appendTo(l.$body);n.on(a.touchstart,function(e){e.preventDefault(),e.stopPropagation(),n.trigger(a.mousedown)}).on(a.mousedown,function(e){e.preventDefault(),l.$html.hasClass(o.modal)||l.$allMenus.trigger(a.close)}),i[e].prototype[d+"_initBlocker"]=function(){}}}(jQuery);